(this["webpackJsonpsimple-react-app"]=this["webpackJsonpsimple-react-app"]||[]).push([[0],{36:function(e,t,r){e.exports=r(46)},46:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),s=r(21),o=r(7),i=r(35),l=JSON.parse(localStorage.getItem("users"))||[];var c=r(5),u=Object(c.a)(),A=r(18),m=r(31),E=r(32),h={SUCCESS:"ALERT_SUCCESS",ERROR:"ALERT_ERROR",CLEAR:"ALERT_CLEAR"},d={REGISTER_REQUEST:"USERS_REGISTER_REQUEST",REGISTER_SUCCESS:"USERS_REGISTER_SUCCESS",REGISTER_FAILURE:"USERS_REGISTER_FAILURE",LOGIN_REQUEST:"USERS_LOGIN_REQUEST",LOGIN_SUCCESS:"USERS_LOGIN_SUCCESS",LOGIN_FAILURE:"USERS_LOGIN_FAILURE",LOGOUT:"USERS_LOGOUT",GETALL_REQUEST:"USERS_GETALL_REQUEST",GETALL_SUCCESS:"USERS_GETALL_SUCCESS",GETALL_FAILURE:"USERS_GETALL_FAILURE",DELETE_REQUEST:"USERS_DELETE_REQUEST",DELETE_SUCCESS:"USERS_DELETE_SUCCESS",DELETE_FAILURE:"USERS_DELETE_FAILURE"},g=JSON.parse(localStorage.getItem("user")),p=g?{loggedIn:!0,user:g}:{};var f=r(23),S=r(4);var b=Object(A.c)({authentication:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.LOGIN_REQUEST:return{loggingIn:!0,user:t.user};case d.LOGIN_SUCCESS:return{loggedIn:!0,user:t.user};case d.LOGIN_FAILURE:case d.LOGOUT:return{};default:return e}},registration:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};switch((arguments.length>1?arguments[1]:void 0).type){case d.REGISTER_REQUEST:return{registering:!0};case d.REGISTER_SUCCESS:case d.REGISTER_FAILURE:return{};default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.GETALL_REQUEST:return{loading:!0};case d.GETALL_SUCCESS:return{items:t.users};case d.GETALL_FAILURE:return{error:t.error};case d.DELETE_REQUEST:return Object(S.a)({},e,{items:e.items.map((function(e){return e.id===t.id?Object(S.a)({},e,{deleting:!0}):e}))});case d.DELETE_SUCCESS:return{items:e.items.filter((function(e){return e.id!==t.id}))};case d.DELETE_FAILURE:return Object(S.a)({},e,{items:e.items.map((function(e){if(e.id===t.id){e.deleting;var r=Object(f.a)(e,["deleting"]);return Object(S.a)({},r,{deleteError:t.error})}return e}))});default:return e}},alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h.SUCCESS:return{type:"alert-success",message:t.message};case h.ERROR:return{type:"alert-danger",message:t.message};case h.CLEAR:return{};default:return e}}}),v=Object(E.createLogger)(),C=Object(A.d)(b,Object(A.a)(m.a,v));function y(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.token?{Authorization:"Bearer "+e.token}:{}}var R=r(11),w=r(12),N=r(14),O=r(13),U=r(15),I=r(17),L={success:function(e){return{type:h.SUCCESS,message:e}},error:function(e){return{type:h.ERROR,message:e}},clear:function(){return{type:h.CLEAR}}};var T={login:function(e,t){var r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})};return fetch("".concat(G.apiUrl,"/users/authenticate"),r).then(j).then((function(e){return localStorage.setItem("user",JSON.stringify(e)),e}))},logout:Q,register:function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};return fetch("".concat(G.apiUrl,"/users/register"),t).then(j)},getAll:function(){var e={method:"GET",headers:y()};return fetch("".concat(G.apiUrl,"/users"),e).then(j)},getById:function(e){var t={method:"GET",headers:y()};return fetch("".concat(G.apiUrl,"/users/").concat(e),t).then(j)},update:function(e){var t={method:"PUT",headers:Object(S.a)({},y(),{"Content-Type":"application/json"}),body:JSON.stringify(e)};return fetch("".concat(G.apiUrl,"/users/").concat(e.id),t).then(j)},delete:function(e){var t={method:"DELETE",headers:y()};return fetch("".concat(G.apiUrl,"/users/").concat(e),t).then(j)}},G=JSON.stringify({apiUrl:"http://localhost:4000"});function Q(){localStorage.removeItem("user")}function j(e){return e.text().then((function(t){var r=t&&JSON.parse(t);if(!e.ok){401===e.status&&Q();var a=r&&r.message||e.statusText;return Promise.reject(a)}return r}))}var k={login:function(e,t){return function(r){var a;r((a={username:e},{type:d.LOGIN_REQUEST,user:a})),T.login(e,t).then((function(e){r(function(e){return{type:d.LOGIN_SUCCESS,user:e}}(e)),u.push("/")}),(function(e){r(function(e){return{type:d.LOGIN_FAILURE,error:e}}(e.toString())),r(L.error(e.toString()))}))}},logout:function(){return T.logout(),{type:d.LOGOUT}},register:function(e){return function(t){t(function(e){return{type:d.REGISTER_REQUEST,user:e}}(e)),T.register(e).then((function(e){t(function(e){return{type:d.REGISTER_SUCCESS,user:e}}()),u.push("/login"),t(L.success("Registration successful"))}),(function(e){t(function(e){return{type:d.REGISTER_FAILURE,error:e}}(e.toString())),t(L.error(e.toString()))}))}},getAll:function(){return function(e){e({type:d.GETALL_REQUEST}),T.getAll().then((function(t){return e(function(e){return{type:d.GETALL_SUCCESS,users:e}}(t))}),(function(t){return e(function(e){return{type:d.GETALL_FAILURE,error:e}}(t.toString()))}))}},delete:function(e){return function(t){t(function(e){return{type:d.DELETE_REQUEST,id:e}}(e)),T.delete(e).then((function(r){return t(function(e){return{type:d.DELETE_SUCCESS,id:e}}(e))}),(function(r){return t(function(e,t){return{type:d.DELETE_FAILURE,id:e,error:t}}(e,r.toString()))}))}}};var D=function(e){var t=e.component,r=Object(f.a)(e,["component"]);return n.a.createElement(I.b,Object.assign({},r,{render:function(e){return localStorage.getItem("user")?n.a.createElement(t,e):n.a.createElement(I.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},_=r(10),F=function(e){function t(){return Object(R.a)(this,t),Object(N.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(U.a)(t,e),Object(w.a)(t,[{key:"componentDidMount",value:function(){this.props.getUsers()}},{key:"handleDeleteUser",value:function(e){var t=this;return function(r){return t.props.deleteUser(e)}}},{key:"render",value:function(){var e=this,t=this.props,r=t.user,a=t.users;return n.a.createElement("div",{className:"col-md-6 col-md-offset-3"},n.a.createElement("h1",null,"Hi ",r.firstName,"!"),n.a.createElement("p",null,"You're logged in with React!!"),n.a.createElement("h3",null,"All registered users:"),a.loading&&n.a.createElement("em",null,"Loading users..."),a.error&&n.a.createElement("span",{className:"text-danger"},"ERROR: ",a.error),a.items&&n.a.createElement("ul",null,a.items.map((function(t,r){return n.a.createElement("li",{key:t.id},t.firstName+" "+t.lastName,t.deleting?n.a.createElement("em",null," - Deleting..."):t.deleteError?n.a.createElement("span",{className:"text-danger"}," - ERROR: ",t.deleteError):n.a.createElement("span",null," - ",n.a.createElement("a",{onClick:e.handleDeleteUser(t.id)},"Delete")))}))),n.a.createElement("p",null,n.a.createElement(_.a,{to:"/login"},"Logout")))}}]),t}(n.a.Component);var J={getUsers:k.getAll,deleteUser:k.delete},M=Object(o.b)((function(e){var t=e.users;return{user:e.authentication.user,users:t}}),J)(F),B=r(19),q=r(16),x=function(e){function t(e){var r;return Object(R.a)(this,t),(r=Object(N.a)(this,Object(O.a)(t).call(this,e))).props.logout(),r.state={username:"",password:"",submitted:!1},r.handleChange=r.handleChange.bind(Object(q.a)(r)),r.handleSubmit=r.handleSubmit.bind(Object(q.a)(r)),r}return Object(U.a)(t,e),Object(w.a)(t,[{key:"handleChange",value:function(e){var t=e.target,r=t.name,a=t.value;this.setState(Object(B.a)({},r,a))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.setState({submitted:!0});var t=this.state,r=t.username,a=t.password;r&&a&&this.props.login(r,a)}},{key:"render",value:function(){var e=this.props.loggingIn,t=this.state,r=t.username,a=t.password,s=t.submitted;return n.a.createElement("div",{className:"col-md-6 col-md-offset-3"},n.a.createElement("h2",null,"Login"),n.a.createElement("form",{name:"form",onSubmit:this.handleSubmit},n.a.createElement("div",{className:"form-group"+(s&&!r?" has-error":"")},n.a.createElement("label",{htmlFor:"username"},"Username"),n.a.createElement("input",{type:"text",className:"form-control",name:"username",value:r,onChange:this.handleChange}),s&&!r&&n.a.createElement("div",{className:"help-block"},"Username is required")),n.a.createElement("div",{className:"form-group"+(s&&!a?" has-error":"")},n.a.createElement("label",{htmlFor:"password"},"Password"),n.a.createElement("input",{type:"password",className:"form-control",name:"password",value:a,onChange:this.handleChange}),s&&!a&&n.a.createElement("div",{className:"help-block"},"Password is required")),n.a.createElement("div",{className:"form-group"},n.a.createElement("button",{className:"btn btn-primary"},"Login"),e&&n.a.createElement("img",{src:"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA=="}),n.a.createElement(_.a,{to:"/register",className:"btn btn-link"},"Register"))))}}]),t}(n.a.Component);var K={login:k.login,logout:k.logout},P=Object(o.b)((function(e){return{loggingIn:e.authentication.loggingIn}}),K)(x),Y=(r(47),function(e){function t(e){var r;return Object(R.a)(this,t),(r=Object(N.a)(this,Object(O.a)(t).call(this,e))).componentDidMount=function(){},r.handleSecurity1=function(e){var t=e.target,a=t.name,n=t.value;console.log(a,n);var s=Object(S.a)({},r.state.user).security1;"question"==a?s.question=n:s.answer=n,r.setState({security1:s})},r.handleSecurity2=function(e){var t=e.target,a=t.name,n=t.value;console.log(a,n);var s=Object(S.a)({},r.state.user).security2;"question"==a?s.question=n:s.answer=n,r.setState({security2:s})},r.handleSecurity3=function(e){var t=e.target,a=t.name,n=t.value;console.log(a,n);var s=Object(S.a)({},r.state.user).security3;"question"==a?s.question=n:s.answer=n,r.setState({security3:s})},r.onDrop=function(e){var t=r.state.user;r.setState({user:Object(S.a)({},t,{photo:e[0].path})}),console.log(r.state)},r.onChangeHandler=function(e){var t=r.state.user;r.setState({user:Object(S.a)({},t,{photo:e.target.files[0]})}),console.log(e.target.files[0])},r.state={user:{photo:null,fullName:"",phoneNo:"",address:"",email:"",password:"",dob:"",security1:{question:"",answer:""},security2:{question:"",answer:""},security3:{question:"",answer:""}},submitted:!1},r.handleChange=r.handleChange.bind(Object(q.a)(r)),r.handleSubmit=r.handleSubmit.bind(Object(q.a)(r)),r}return Object(U.a)(t,e),Object(w.a)(t,[{key:"handleChange",value:function(e){var t=e.target,r=t.name,a=t.value,n=this.state.user;this.setState({user:Object(S.a)({},n,Object(B.a)({},r,a))})}},{key:"handleSubmit",value:function(e){e.preventDefault(),console.log("submit?"),this.setState({submitted:!0});var t=this.state.user;t.fullName&&t.email&&t.phoneNo&&t.password&&t.photo&&t.address&&t.dob&&this.props.register(t)}},{key:"render",value:function(){var e=this.props.registering,t=this.state,r=t.user,a=t.submitted;return n.a.createElement("div",{className:"col-md-6 col-md-offset-3"},n.a.createElement("h2",null,"Register"),n.a.createElement("form",{name:"form",onSubmit:this.handleSubmit},n.a.createElement("div",{className:"form-group"+(a&&!r.firstName?" has-error":"")},n.a.createElement("label",{htmlFor:"firstName"},"Full Name"),n.a.createElement("input",{type:"text",className:"form-control",name:"fullName",value:r.fullName,onChange:this.handleChange}),a&&!r.fullName&&n.a.createElement("div",{className:"help-block"},"Full Name is required")),n.a.createElement("div",{className:"form-group"+(a&&!r.email?" has-error":"")},n.a.createElement("label",{htmlFor:"email"},"Email Address"),n.a.createElement("input",{type:"text",className:"form-control",name:"email",value:r.email,onChange:this.handleChange}),a&&!r.email&&n.a.createElement("div",{className:"help-block"},"Email Address is required")),n.a.createElement("div",{className:"form-group"+(a&&!r.password?" has-error":"")},n.a.createElement("label",{htmlFor:"password"},"Password"),n.a.createElement("input",{type:"password",className:"form-control",name:"password",value:r.password,onChange:this.handleChange}),a&&!r.password&&n.a.createElement("div",{className:"help-block"},"Password is required")),n.a.createElement("div",{className:"form-group"+(a&&!r.phoneNo?" has-error":"")},n.a.createElement("label",{htmlFor:"phoneNo"},"Phone Number"),n.a.createElement("input",{type:"text",className:"form-control",name:"phoneNo",value:r.phoneNo,onChange:this.handleChange}),a&&!r.lastName&&n.a.createElement("div",{className:"help-block"},"Phone Number is required")),n.a.createElement("div",{className:"form-group"+(a&&!r.address?" has-error":"")},n.a.createElement("label",{htmlFor:"address"},"Address"),n.a.createElement("input",{type:"text",className:"form-control",name:"address",value:r.address,onChange:this.handleChange}),a&&!r.address&&n.a.createElement("div",{className:"help-block"},"Address is required")),n.a.createElement("div",{className:"form-group"+(a&&!r.dob?" has-error":"")},n.a.createElement("label",{htmlFor:"dob"},"Date of Birth"),n.a.createElement("input",{type:"text",className:"form-control",name:"dob",value:r.dob,onChange:this.handleChange}),a&&!r.dob&&n.a.createElement("div",{className:"help-block"},"Date of Birth is required")),n.a.createElement("div",{className:"form-group"+(!a||r.security1.question&&r.security1.answer?"":" has-error")},n.a.createElement("label",{htmlFor:"question1"},"Security Question 1"),n.a.createElement("input",{type:"text",className:"form-control",placeholder:"Enter Question here",name:"question",value:r.security1.question,onChange:this.handleSecurity1}),n.a.createElement("input",{type:"text",className:"form-control",placeholder:"Enter Answer here",name:"answer",value:r.security1.answer,onChange:this.handleSecurity1}),a&&(!r.security1.question||!r.security1.answer)&&n.a.createElement("div",{className:"help-block"},"Security question 1 and answer is required")),n.a.createElement("div",{className:"form-group"+(!a||r.security2.question&&r.security2.answer?"":" has-error")},n.a.createElement("label",{htmlFor:"question2"},"Security Question 2"),n.a.createElement("input",{type:"text",className:"form-control",placeholder:"Enter Question here",name:"question",value:r.security2.question,onChange:this.handleSecurity2}),n.a.createElement("input",{type:"text",className:"form-control",placeholder:"Enter Answer here",name:"answer",value:r.security2.answer,onChange:this.handleSecurity2}),a&&(!r.security2.question||!r.security2.answer)&&n.a.createElement("div",{className:"help-block"},"Security question 2 and answer is required")),n.a.createElement("div",{className:"form-group"+(!a||r.security3.question&&r.security3.answer?"":" has-error")},n.a.createElement("label",{htmlFor:"question3"},"Security Question 3"),n.a.createElement("input",{type:"text",className:"form-control",placeholder:"Enter Question here",name:"question",value:r.security3.question,onChange:this.handleSecurity3}),n.a.createElement("input",{type:"text",className:"form-control",placeholder:"Enter Answer here",name:"answer",value:r.security3.answer,onChange:this.handleSecurity3}),a&&(!r.security3.question||!r.security3.answer)&&n.a.createElement("div",{className:"help-block"},"Security question 3 and answer is required")),n.a.createElement("label",null,"Display Picture "),n.a.createElement("div",{className:"form-group"+(a&&!r.photo?" has-error":"")},n.a.createElement("label",{htmlFor:"image",className:"btn btn-info"},"Select Image"),n.a.createElement("input",{type:"file",style:{visibility:"hidden"},multiple:"",id:"image",name:"image",onChange:this.onChangeHandler}),this.state.user.photo&&n.a.createElement("span",{style:{color:"green"}},this.state.user.photo.name),a&&!r.photo&&n.a.createElement("div",{className:"help-block"},"Please upload profile image")),n.a.createElement("div",{className:"form-group"},n.a.createElement("button",{onClick:this.handleSubmit,className:"btn btn-primary"},"Register"),e&&n.a.createElement("img",{src:"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA=="}),n.a.createElement(_.a,{to:"/login",className:"btn btn-link"},"Cancel"))))}}]),t}(n.a.Component));var H={register:k.register},W=Object(o.b)((function(e){return{registering:e.registration.registering}}),H)(Y),z=function(e){function t(e){var r;return Object(R.a)(this,t),r=Object(N.a)(this,Object(O.a)(t).call(this,e)),u.listen((function(e,t){r.props.clearAlerts()})),r}return Object(U.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this.props.alert;return n.a.createElement("div",{className:"container",style:{height:"100vh"}},n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"col-sm-8 col-sm-offset-2"},e.message&&n.a.createElement("div",{className:"alert ".concat(e.type)},e.message),n.a.createElement(I.c,{history:u},n.a.createElement(I.d,null,n.a.createElement(D,{exact:!0,path:"/",component:M}),n.a.createElement(I.b,{path:"/login",component:P}),n.a.createElement(I.b,{path:"/register",component:W}),n.a.createElement(I.a,{from:"*",to:"/"}))))))}}]),t}(n.a.Component);var V={clearAlerts:L.clear},Z=Object(o.b)((function(e){return{alert:e.alert}}),V)(z);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));!function(){var e=window.fetch;window.fetch=function(t,r){return new Promise((function(a,n){setTimeout((function(){if(t.endsWith("/users/authenticate")&&"POST"===r.method){var s=JSON.parse(r.body),o=l.filter((function(e){return e.username===s.username&&e.password===s.password}));if(o.length){var c=o[0],u={id:c.id,username:c.username,firstName:c.firstName,lastName:c.lastName,token:"fake-jwt-token"};a({ok:!0,text:function(){return Promise.resolve(JSON.stringify(u))}})}else n("Username or password is incorrect")}else if(t.endsWith("/users")&&"GET"===r.method)r.headers&&"Bearer fake-jwt-token"===r.headers.Authorization?a({ok:!0,text:function(){return Promise.resolve(JSON.stringify(l))}}):n("Unauthorised");else if(t.match(/\/users\/\d+$/)&&"GET"===r.method)if(r.headers&&"Bearer fake-jwt-token"===r.headers.Authorization){var A=t.split("/"),m=parseInt(A[A.length-1]),E=l.filter((function(e){return e.id===m})),h=E.length?E[0]:null;a({ok:!0,text:function(){return JSON.stringify(h)}})}else n("Unauthorised");else{if(t.endsWith("/users/register")&&"POST"===r.method){var d=JSON.parse(r.body);return l.filter((function(e){return e.username===d.username})).length?void n('Username "'+d.username+'" is already taken'):(d.id=l.length?Math.max.apply(Math,Object(i.a)(l.map((function(e){return e.id}))))+1:1,l.push(d),localStorage.setItem("users",JSON.stringify(l)),void a({ok:!0,text:function(){return Promise.resolve()}}))}if(t.match(/\/users\/\d+$/)&&"DELETE"===r.method)if(r.headers&&"Bearer fake-jwt-token"===r.headers.Authorization){for(var g=t.split("/"),p=parseInt(g[g.length-1]),f=0;f<l.length;f++){if(l[f].id===p){l.splice(f,1),localStorage.setItem("users",JSON.stringify(l));break}}a({ok:!0,text:function(){return Promise.resolve()}})}else n("Unauthorised");else e(t,r).then((function(e){return a(e)}))}}),500)}))}}(),Object(s.render)(n.a.createElement(o.a,{store:C},n.a.createElement(Z,null)),document.getElementById("app")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[36,1,2]]]);
//# sourceMappingURL=main.31fcc5ef.chunk.js.map