{"version":3,"sources":["_helpers/fake-backend.js","_helpers/history.js","_constants/alert.constants.js","_constants/user.constants.js","_reducers/authentication.reducer.js","_reducers/index.js","_reducers/registration.reducer.js","_reducers/users.reducer.js","_reducers/alert.reducer.js","_helpers/store.js","_helpers/auth-header.js","_actions/alert.actions.js","_services/user.service.js","_actions/user.actions.js","_components/PrivateRoute.jsx","HomePage/HomePage.jsx","LoginPage/LoginPage.jsx","RegisterPage/RegisterPage.jsx","App/App.jsx","serviceWorker.js","index.js"],"names":["users","JSON","parse","localStorage","getItem","history","createBrowserHistory","alertConstants","SUCCESS","ERROR","CLEAR","userConstants","REGISTER_REQUEST","REGISTER_SUCCESS","REGISTER_FAILURE","LOGIN_REQUEST","LOGIN_SUCCESS","LOGIN_FAILURE","LOGOUT","GETALL_REQUEST","GETALL_SUCCESS","GETALL_FAILURE","DELETE_REQUEST","DELETE_SUCCESS","DELETE_FAILURE","user","initialState","loggedIn","rootReducer","combineReducers","authentication","state","action","type","loggingIn","registration","registering","loading","items","error","map","id","deleting","filter","userCopy","deleteError","alert","message","loggerMiddleware","createLogger","store","createStore","applyMiddleware","thunkMiddleware","authHeader","token","alertActions","success","clear","userService","login","username","password","requestOptions","method","headers","body","stringify","fetch","config","apiUrl","then","handleResponse","setItem","logout","register","getAll","getById","update","delete","removeItem","response","text","data","ok","status","statusText","Promise","reject","userActions","dispatch","push","failure","toString","request","PrivateRoute","Component","component","rest","render","props","to","pathname","from","location","HomePage","this","getUsers","e","deleteUser","className","firstName","index","key","lastName","onClick","handleDeleteUser","React","actionCreators","connectedHomePage","connect","LoginPage","submitted","handleChange","bind","handleSubmit","target","name","value","setState","preventDefault","onSubmit","htmlFor","onChange","src","connectedLoginPage","RegisterPage","componentDidMount","handleSecurity1","event","console","log","security1","question","answer","handleSecurity2","security2","handleSecurity3","security3","onDrop","file","photo","path","onChangeHandler","files","fullName","phoneNo","address","email","dob","placeholder","style","visibility","multiple","color","connectedRegisterPage","App","listen","clearAlerts","height","exact","connectedApp","Boolean","window","hostname","match","realFetch","url","opts","resolve","setTimeout","endsWith","params","filteredUsers","length","responseJson","Authorization","urlParts","split","parseInt","matchedUsers","newUser","Math","max","i","splice","configureFakeBackend","document","getElementById","navigator","serviceWorker","ready","unregister"],"mappings":"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","file":"static/js/main.31fcc5ef.chunk.js","sourcesContent":["// array in local storage for registered users\r\nlet users = JSON.parse(localStorage.getItem('users')) || [];\r\n    \r\nexport function configureFakeBackend() {\r\n    let realFetch = window.fetch;\r\n    window.fetch = function (url, opts) {\r\n        return new Promise((resolve, reject) => {\r\n            // wrap in timeout to simulate server api call\r\n            setTimeout(() => {\r\n\r\n                // authenticate\r\n                if (url.endsWith('/users/authenticate') && opts.method === 'POST') {\r\n                    // get parameters from post request\r\n                    let params = JSON.parse(opts.body);\r\n\r\n                    // find if any user matches login credentials\r\n                    let filteredUsers = users.filter(user => {\r\n                        return user.username === params.username && user.password === params.password;\r\n                    });\r\n\r\n                    if (filteredUsers.length) {\r\n                        // if login details are valid return user details and fake jwt token\r\n                        let user = filteredUsers[0];\r\n                        let responseJson = {\r\n                            id: user.id,\r\n                            username: user.username,\r\n                            firstName: user.firstName,\r\n                            lastName: user.lastName,\r\n                            token: 'fake-jwt-token'\r\n                        };\r\n                        resolve({ ok: true, text: () => Promise.resolve(JSON.stringify(responseJson)) });\r\n                    } else {\r\n                        // else return error\r\n                        reject('Username or password is incorrect');\r\n                    }\r\n\r\n                    return;\r\n                }\r\n\r\n                // get users\r\n                if (url.endsWith('/users') && opts.method === 'GET') {\r\n                    // check for fake auth token in header and return users if valid, this security is implemented server side in a real application\r\n                    if (opts.headers && opts.headers.Authorization === 'Bearer fake-jwt-token') {\r\n                        resolve({ ok: true, text: () => Promise.resolve(JSON.stringify(users))});\r\n                    } else {\r\n                        // return 401 not authorised if token is null or invalid\r\n                        reject('Unauthorised');\r\n                    }\r\n\r\n                    return;\r\n                }\r\n\r\n                // get user by id\r\n                if (url.match(/\\/users\\/\\d+$/) && opts.method === 'GET') {\r\n                    // check for fake auth token in header and return user if valid, this security is implemented server side in a real application\r\n                    if (opts.headers && opts.headers.Authorization === 'Bearer fake-jwt-token') {\r\n                        // find user by id in users array\r\n                        let urlParts = url.split('/');\r\n                        let id = parseInt(urlParts[urlParts.length - 1]);\r\n                        let matchedUsers = users.filter(user => { return user.id === id; });\r\n                        let user = matchedUsers.length ? matchedUsers[0] : null;\r\n\r\n                        // respond 200 OK with user\r\n                        resolve({ ok: true, text: () => JSON.stringify(user)});\r\n                    } else {\r\n                        // return 401 not authorised if token is null or invalid\r\n                        reject('Unauthorised');\r\n                    }\r\n\r\n                    return;\r\n                }\r\n\r\n                // register user\r\n                if (url.endsWith('/users/register') && opts.method === 'POST') {\r\n                    // get new user object from post body\r\n                    let newUser = JSON.parse(opts.body);\r\n\r\n                    // validation\r\n                    let duplicateUser = users.filter(user => { return user.username === newUser.username; }).length;\r\n                    if (duplicateUser) {\r\n                        reject('Username \"' + newUser.username + '\" is already taken');\r\n                        return;\r\n                    }\r\n\r\n                    // save new user\r\n                    newUser.id = users.length ? Math.max(...users.map(user => user.id)) + 1 : 1;\r\n                    users.push(newUser);\r\n                    localStorage.setItem('users', JSON.stringify(users));\r\n\r\n                    // respond 200 OK\r\n                    resolve({ ok: true, text: () => Promise.resolve() });\r\n\r\n                    return;\r\n                }\r\n\r\n                // delete user\r\n                if (url.match(/\\/users\\/\\d+$/) && opts.method === 'DELETE') {\r\n                    // check for fake auth token in header and return user if valid, this security is implemented server side in a real application\r\n                    if (opts.headers && opts.headers.Authorization === 'Bearer fake-jwt-token') {\r\n                        // find user by id in users array\r\n                        let urlParts = url.split('/');\r\n                        let id = parseInt(urlParts[urlParts.length - 1]);\r\n                        for (let i = 0; i < users.length; i++) {\r\n                            let user = users[i];\r\n                            if (user.id === id) {\r\n                                // delete user\r\n                                users.splice(i, 1);\r\n                                localStorage.setItem('users', JSON.stringify(users));\r\n                                break;\r\n                            }\r\n                        }\r\n\r\n                        // respond 200 OK\r\n                        resolve({ ok: true, text: () => Promise.resolve() });\r\n                    } else {\r\n                        // return 401 not authorised if token is null or invalid\r\n                        reject('Unauthorised');\r\n                    }\r\n\r\n                    return;\r\n                }\r\n\r\n                // pass through any requests not handled above\r\n                realFetch(url, opts).then(response => resolve(response));\r\n\r\n            }, 500);\r\n        });\r\n    }\r\n}","import { createBrowserHistory } from 'history';\r\n\r\nexport const history = createBrowserHistory();","export const alertConstants = {\r\n    SUCCESS: 'ALERT_SUCCESS',\r\n    ERROR: 'ALERT_ERROR',\r\n    CLEAR: 'ALERT_CLEAR'\r\n};\r\n","export const userConstants = {\r\n    REGISTER_REQUEST: 'USERS_REGISTER_REQUEST',\r\n    REGISTER_SUCCESS: 'USERS_REGISTER_SUCCESS',\r\n    REGISTER_FAILURE: 'USERS_REGISTER_FAILURE',\r\n\r\n    LOGIN_REQUEST: 'USERS_LOGIN_REQUEST',\r\n    LOGIN_SUCCESS: 'USERS_LOGIN_SUCCESS',\r\n    LOGIN_FAILURE: 'USERS_LOGIN_FAILURE',\r\n    \r\n    LOGOUT: 'USERS_LOGOUT',\r\n\r\n    GETALL_REQUEST: 'USERS_GETALL_REQUEST',\r\n    GETALL_SUCCESS: 'USERS_GETALL_SUCCESS',\r\n    GETALL_FAILURE: 'USERS_GETALL_FAILURE',\r\n\r\n    DELETE_REQUEST: 'USERS_DELETE_REQUEST',\r\n    DELETE_SUCCESS: 'USERS_DELETE_SUCCESS',\r\n    DELETE_FAILURE: 'USERS_DELETE_FAILURE'    \r\n};\r\n","import { userConstants } from '../_constants';\r\n\r\nlet user = JSON.parse(localStorage.getItem('user'));\r\nconst initialState = user ? { loggedIn: true, user } : {};\r\n\r\nexport function authentication(state = initialState, action) {\r\n  switch (action.type) {\r\n    case userConstants.LOGIN_REQUEST:\r\n      return {\r\n        loggingIn: true,\r\n        user: action.user\r\n      };\r\n    case userConstants.LOGIN_SUCCESS:\r\n      return {\r\n        loggedIn: true,\r\n        user: action.user\r\n      };\r\n    case userConstants.LOGIN_FAILURE:\r\n      return {};\r\n    case userConstants.LOGOUT:\r\n      return {};\r\n    default:\r\n      return state\r\n  }\r\n}","import { combineReducers } from 'redux';\r\n\r\nimport { authentication } from './authentication.reducer';\r\nimport { registration } from './registration.reducer';\r\nimport { users } from './users.reducer';\r\nimport { alert } from './alert.reducer';\r\n\r\nconst rootReducer = combineReducers({\r\n  authentication,\r\n  registration,\r\n  users,\r\n  alert\r\n});\r\n\r\nexport default rootReducer;","import { userConstants } from '../_constants';\r\n\r\nexport function registration(state = {}, action) {\r\n  switch (action.type) {\r\n    case userConstants.REGISTER_REQUEST:\r\n      return { registering: true };\r\n    case userConstants.REGISTER_SUCCESS:\r\n      return {};\r\n    case userConstants.REGISTER_FAILURE:\r\n      return {};\r\n    default:\r\n      return state\r\n  }\r\n}","import { userConstants } from '../_constants';\r\n\r\nexport function users(state = {}, action) {\r\n  switch (action.type) {\r\n    case userConstants.GETALL_REQUEST:\r\n      return {\r\n        loading: true\r\n      };\r\n    case userConstants.GETALL_SUCCESS:\r\n      return {\r\n        items: action.users\r\n      };\r\n    case userConstants.GETALL_FAILURE:\r\n      return { \r\n        error: action.error\r\n      };\r\n    case userConstants.DELETE_REQUEST:\r\n      // add 'deleting:true' property to user being deleted\r\n      return {\r\n        ...state,\r\n        items: state.items.map(user =>\r\n          user.id === action.id\r\n            ? { ...user, deleting: true }\r\n            : user\r\n        )\r\n      };\r\n    case userConstants.DELETE_SUCCESS:\r\n      // remove deleted user from state\r\n      return {\r\n        items: state.items.filter(user => user.id !== action.id)\r\n      };\r\n    case userConstants.DELETE_FAILURE:\r\n      // remove 'deleting:true' property and add 'deleteError:[error]' property to user \r\n      return {\r\n        ...state,\r\n        items: state.items.map(user => {\r\n          if (user.id === action.id) {\r\n            // make copy of user without 'deleting:true' property\r\n            const { deleting, ...userCopy } = user;\r\n            // return copy of user with 'deleteError:[error]' property\r\n            return { ...userCopy, deleteError: action.error };\r\n          }\r\n\r\n          return user;\r\n        })\r\n      };\r\n    default:\r\n      return state\r\n  }\r\n}","import { alertConstants } from '../_constants';\r\n\r\nexport function alert(state = {}, action) {\r\n  switch (action.type) {\r\n    case alertConstants.SUCCESS:\r\n      return {\r\n        type: 'alert-success',\r\n        message: action.message\r\n      };\r\n    case alertConstants.ERROR:\r\n      return {\r\n        type: 'alert-danger',\r\n        message: action.message\r\n      };\r\n    case alertConstants.CLEAR:\r\n      return {};\r\n    default:\r\n      return state\r\n  }\r\n}","import { createStore, applyMiddleware } from 'redux';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport { createLogger } from 'redux-logger';\r\nimport rootReducer from '../_reducers';\r\n\r\nconst loggerMiddleware = createLogger();\r\n\r\nexport const store = createStore(\r\n    rootReducer,\r\n    applyMiddleware(\r\n        thunkMiddleware,\r\n        loggerMiddleware\r\n    )\r\n);","export function authHeader() {\r\n    // return authorization header with jwt token\r\n    let user = JSON.parse(localStorage.getItem('user'));\r\n\r\n    if (user && user.token) {\r\n        return { 'Authorization': 'Bearer ' + user.token };\r\n    } else {\r\n        return {};\r\n    }\r\n}","import { alertConstants } from '../_constants';\r\n\r\nexport const alertActions = {\r\n    success,\r\n    error,\r\n    clear\r\n};\r\n\r\nfunction success(message) {\r\n    return { type: alertConstants.SUCCESS, message };\r\n}\r\n\r\nfunction error(message) {\r\n    return { type: alertConstants.ERROR, message };\r\n}\r\n\r\nfunction clear() {\r\n    return { type: alertConstants.CLEAR };\r\n}","import { authHeader } from '../_helpers';\r\n\r\nexport const userService = {\r\n    login,\r\n    logout,\r\n    register,\r\n    getAll,\r\n    getById,\r\n    update,\r\n    delete: _delete\r\n};\r\n\r\nconst config = JSON.stringify({\r\n    apiUrl: 'http://localhost:4000'\r\n});\r\n\r\nfunction login(username, password) {\r\n    const requestOptions = {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ username, password })\r\n    };\r\n\r\n    return fetch(`${config.apiUrl}/users/authenticate`, requestOptions)\r\n        .then(handleResponse)\r\n        .then(user => {\r\n            // store user details and jwt token in local storage to keep user logged in between page refreshes\r\n            localStorage.setItem('user', JSON.stringify(user));\r\n\r\n            return user;\r\n        });\r\n}\r\n\r\nfunction logout() {\r\n    // remove user from local storage to log user out\r\n    localStorage.removeItem('user');\r\n}\r\n\r\nfunction getAll() {\r\n    const requestOptions = {\r\n        method: 'GET',\r\n        headers: authHeader()\r\n    };\r\n\r\n    return fetch(`${config.apiUrl}/users`, requestOptions).then(handleResponse);\r\n}\r\n\r\nfunction getById(id) {\r\n    const requestOptions = {\r\n        method: 'GET',\r\n        headers: authHeader()\r\n    };\r\n\r\n    return fetch(`${config.apiUrl}/users/${id}`, requestOptions).then(handleResponse);\r\n}\r\n\r\nfunction register(user) {\r\n    const requestOptions = {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(user)\r\n    };\r\n\r\n    return fetch(`${config.apiUrl}/users/register`, requestOptions).then(handleResponse);\r\n}\r\n\r\nfunction update(user) {\r\n    const requestOptions = {\r\n        method: 'PUT',\r\n        headers: { ...authHeader(), 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(user)\r\n    };\r\n\r\n    return fetch(`${config.apiUrl}/users/${user.id}`, requestOptions).then(handleResponse);;\r\n}\r\n\r\n// prefixed function name with underscore because delete is a reserved word in javascript\r\nfunction _delete(id) {\r\n    const requestOptions = {\r\n        method: 'DELETE',\r\n        headers: authHeader()\r\n    };\r\n\r\n    return fetch(`${config.apiUrl}/users/${id}`, requestOptions).then(handleResponse);\r\n}\r\n\r\nfunction handleResponse(response) {\r\n    return response.text().then(text => {\r\n        const data = text && JSON.parse(text);\r\n        if (!response.ok) {\r\n            if (response.status === 401) {\r\n                // auto logout if 401 response returned from api\r\n                logout();\r\n                //location.reload(true);\r\n            }\r\n\r\n            const error = (data && data.message) || response.statusText;\r\n            return Promise.reject(error);\r\n        }\r\n\r\n        return data;\r\n    });\r\n}","import { userConstants } from '../_constants';\r\nimport { userService } from '../_services';\r\nimport { alertActions } from './';\r\nimport { history } from '../_helpers';\r\n\r\nexport const userActions = {\r\n    login,\r\n    logout,\r\n    register,\r\n    getAll,\r\n    delete: _delete\r\n};\r\n\r\nfunction login(username, password) {\r\n    return dispatch => {\r\n        dispatch(request({ username }));\r\n\r\n        userService.login(username, password)\r\n            .then(\r\n                user => { \r\n                    dispatch(success(user));\r\n                    history.push('/');\r\n                },\r\n                error => {\r\n                    dispatch(failure(error.toString()));\r\n                    dispatch(alertActions.error(error.toString()));\r\n                }\r\n            );\r\n    };\r\n\r\n    function request(user) { return { type: userConstants.LOGIN_REQUEST, user } }\r\n    function success(user) { return { type: userConstants.LOGIN_SUCCESS, user } }\r\n    function failure(error) { return { type: userConstants.LOGIN_FAILURE, error } }\r\n}\r\n\r\nfunction logout() {\r\n    userService.logout();\r\n    return { type: userConstants.LOGOUT };\r\n}\r\n\r\nfunction register(user) {\r\n    return dispatch => {\r\n        dispatch(request(user));\r\n\r\n        userService.register(user)\r\n            .then(\r\n                user => { \r\n                    dispatch(success());\r\n                    history.push('/login');\r\n                    dispatch(alertActions.success('Registration successful'));\r\n                },\r\n                error => {\r\n                    dispatch(failure(error.toString()));\r\n                    dispatch(alertActions.error(error.toString()));\r\n                }\r\n            );\r\n    };\r\n\r\n    function request(user) { return { type: userConstants.REGISTER_REQUEST, user } }\r\n    function success(user) { return { type: userConstants.REGISTER_SUCCESS, user } }\r\n    function failure(error) { return { type: userConstants.REGISTER_FAILURE, error } }\r\n}\r\n\r\nfunction getAll() {\r\n    return dispatch => {\r\n        dispatch(request());\r\n\r\n        userService.getAll()\r\n            .then(\r\n                users => dispatch(success(users)),\r\n                error => dispatch(failure(error.toString()))\r\n            );\r\n    };\r\n\r\n    function request() { return { type: userConstants.GETALL_REQUEST } }\r\n    function success(users) { return { type: userConstants.GETALL_SUCCESS, users } }\r\n    function failure(error) { return { type: userConstants.GETALL_FAILURE, error } }\r\n}\r\n\r\n// prefixed function name with underscore because delete is a reserved word in javascript\r\nfunction _delete(id) {\r\n    return dispatch => {\r\n        dispatch(request(id));\r\n\r\n        userService.delete(id)\r\n            .then(\r\n                user => dispatch(success(id)),\r\n                error => dispatch(failure(id, error.toString()))\r\n            );\r\n    };\r\n\r\n    function request(id) { return { type: userConstants.DELETE_REQUEST, id } }\r\n    function success(id) { return { type: userConstants.DELETE_SUCCESS, id } }\r\n    function failure(id, error) { return { type: userConstants.DELETE_FAILURE, id, error } }\r\n}","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nexport const PrivateRoute = ({ component: Component, ...rest }) => (\r\n    <Route {...rest} render={props => (\r\n        localStorage.getItem('user')\r\n            ? <Component {...props} />\r\n            : <Redirect to={{ pathname: '/login', state: { from: props.location } }} />\r\n    )} />\r\n)","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { userActions } from '../_actions';\r\n\r\nclass HomePage extends React.Component {\r\n    componentDidMount() {\r\n        this.props.getUsers();\r\n    }\r\n\r\n    handleDeleteUser(id) {\r\n        return (e) => this.props.deleteUser(id);\r\n    }\r\n\r\n    render() {\r\n        const { user, users } = this.props;\r\n        return (\r\n            <div className=\"col-md-6 col-md-offset-3\">\r\n                <h1>Hi {user.firstName}!</h1>\r\n                <p>You're logged in with React!!</p>\r\n                <h3>All registered users:</h3>\r\n                {users.loading && <em>Loading users...</em>}\r\n                {users.error && <span className=\"text-danger\">ERROR: {users.error}</span>}\r\n                {users.items &&\r\n                    <ul>\r\n                        {users.items.map((user, index) =>\r\n                            <li key={user.id}>\r\n                                {user.firstName + ' ' + user.lastName}\r\n                                {\r\n                                    user.deleting ? <em> - Deleting...</em>\r\n                                    : user.deleteError ? <span className=\"text-danger\"> - ERROR: {user.deleteError}</span>\r\n                                    : <span> - <a onClick={this.handleDeleteUser(user.id)}>Delete</a></span>\r\n                                }\r\n                            </li>\r\n                        )}\r\n                    </ul>\r\n                }\r\n                <p>\r\n                    <Link to=\"/login\">Logout</Link>\r\n                </p>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nfunction mapState(state) {\r\n    const { users, authentication } = state;\r\n    const { user } = authentication;\r\n    return { user, users };\r\n}\r\n\r\nconst actionCreators = {\r\n    getUsers: userActions.getAll,\r\n    deleteUser: userActions.delete\r\n}\r\n\r\nconst connectedHomePage = connect(mapState, actionCreators)(HomePage);\r\nexport { connectedHomePage as HomePage };","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { userActions } from '../_actions';\r\n\r\nclass LoginPage extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        // reset login status\r\n        this.props.logout();\r\n\r\n        this.state = {\r\n            username: '',\r\n            password: '',\r\n            submitted: false\r\n        };\r\n\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n\r\n    handleChange(e) {\r\n        const { name, value } = e.target;\r\n        this.setState({ [name]: value });\r\n    }\r\n\r\n    handleSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        this.setState({ submitted: true });\r\n        const { username, password } = this.state;\r\n        if (username && password) {\r\n            this.props.login(username, password);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { loggingIn } = this.props;\r\n        const { username, password, submitted } = this.state;\r\n        return (\r\n            <div className=\"col-md-6 col-md-offset-3\">\r\n                <h2>Login</h2>\r\n                <form name=\"form\" onSubmit={this.handleSubmit}>\r\n                    <div className={'form-group' + (submitted && !username ? ' has-error' : '')}>\r\n                        <label htmlFor=\"username\">Username</label>\r\n                        <input type=\"text\" className=\"form-control\" name=\"username\" value={username} onChange={this.handleChange} />\r\n                        {submitted && !username &&\r\n                            <div className=\"help-block\">Username is required</div>\r\n                        }\r\n                    </div>\r\n                    <div className={'form-group' + (submitted && !password ? ' has-error' : '')}>\r\n                        <label htmlFor=\"password\">Password</label>\r\n                        <input type=\"password\" className=\"form-control\" name=\"password\" value={password} onChange={this.handleChange} />\r\n                        {submitted && !password &&\r\n                            <div className=\"help-block\">Password is required</div>\r\n                        }\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <button className=\"btn btn-primary\">Login</button>\r\n                        {loggingIn &&\r\n                            <img src=\"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==\" />\r\n                        }\r\n                        <Link to=\"/register\" className=\"btn btn-link\">Register</Link>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nfunction mapState(state) {\r\n    const { loggingIn } = state.authentication;\r\n    return { loggingIn };\r\n}\r\n\r\nconst actionCreators = {\r\n    login: userActions.login,\r\n    logout: userActions.logout\r\n};\r\n\r\nconst connectedLoginPage = connect(mapState, actionCreators)(LoginPage);\r\nexport { connectedLoginPage as LoginPage };","import React from 'react';\r\nimport Dropzone from 'react-dropzone'\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { userActions } from '../_actions';\r\n\r\nclass RegisterPage extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.onDrop = (file) => {\r\n            const { user } = this.state;\r\n            this.setState({\r\n                user: {\r\n                    ...user,\r\n                    photo: file[0].path\r\n                }\r\n            });\r\n            console.log(this.state)\r\n        };\r\n        this.onChangeHandler=event=>{\r\n            const { user } = this.state;\r\n            this.setState({\r\n                user: {\r\n                    ...user,\r\n                    photo: event.target.files[0]\r\n                }\r\n            });\r\n            console.log(event.target.files[0])\r\n        \r\n        }\r\n        this.state = {\r\n            user: {\r\n                photo: null,\r\n                fullName: '',\r\n                phoneNo: '',\r\n                address: '',\r\n                email: '',\r\n                password: '',\r\n                dob: '',\r\n                security1 : {\r\n                    question: '',\r\n                    answer: ''\r\n                },\r\n                security2 : {\r\n                    question: '',\r\n                    answer: ''\r\n\r\n                },\r\n                security3 : {\r\n                    question: '',\r\n                    answer: ''\r\n\r\n                },\r\n\r\n            },\r\n            submitted: false\r\n        };\r\n\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        //console.log(this.state.user.security[0].question);\r\n    }\r\n\r\n    handleChange(event) {\r\n        const { name, value } = event.target;\r\n        const { user } = this.state;\r\n        this.setState({\r\n            user: {\r\n                ...user,\r\n                [name]: value\r\n            }\r\n           \r\n        });\r\n    }\r\n\r\n    handleSecurity1 = (event) => {\r\n         const { name, value } = event.target;\r\n         console.log(name, value)\r\n         const  {security1}  = {...this.state.user};\r\n         if (name == 'question') {\r\n            security1.question = value\r\n         }\r\n         else {\r\n             security1.answer = value\r\n         }\r\n         this.setState({\r\n             security1\r\n         });\r\n    }\r\n\r\n    handleSecurity2 = (event) => {\r\n        const { name, value } = event.target;\r\n        console.log(name, value)\r\n        const  {security2}  = {...this.state.user};\r\n        if (name == 'question') {\r\n           security2.question = value\r\n        }\r\n        else {\r\n            security2.answer = value\r\n        }\r\n        this.setState({\r\n            security2\r\n        });\r\n   }\r\n\r\n   handleSecurity3 = (event) => {\r\n    const { name, value } = event.target;\r\n    console.log(name, value)\r\n    const  {security3}  = {...this.state.user};\r\n    if (name == 'question') {\r\n       security3.question = value\r\n    }\r\n    else {\r\n        security3.answer = value\r\n    }\r\n    this.setState({\r\n        security3\r\n    });\r\n}\r\n\r\n    handleSubmit(event) {\r\n        event.preventDefault();\r\n        console.log('submit?')\r\n        this.setState({ submitted: true });\r\n        const { user } = this.state;\r\n        if (user.fullName && user.email && user.phoneNo && user.password && user.photo && user.address && user.dob) {\r\n            this.props.register(user);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { registering  } = this.props;\r\n        const { user, submitted } = this.state;\r\n        return (\r\n            <div className=\"col-md-6 col-md-offset-3\">\r\n                <h2>Register</h2>\r\n                <form name=\"form\" onSubmit={this.handleSubmit}>\r\n                    <div className={'form-group' + (submitted && !user.firstName ? ' has-error' : '')}>\r\n                        <label htmlFor=\"firstName\">Full Name</label>\r\n                        <input type=\"text\" className=\"form-control\" name=\"fullName\" value={user.fullName} onChange={this.handleChange} />\r\n                        {submitted && !user.fullName &&\r\n                            <div className=\"help-block\">Full Name is required</div>\r\n                        }\r\n                    </div>\r\n                    <div className={'form-group' + (submitted && !user.email ? ' has-error' : '')}>\r\n                        <label htmlFor=\"email\">Email Address</label>\r\n                        <input type=\"text\" className=\"form-control\" name=\"email\" value={user.email} onChange={this.handleChange} />\r\n                        {submitted && !user.email &&\r\n                            <div className=\"help-block\">Email Address is required</div>\r\n                        }\r\n                    </div>\r\n                    <div className={'form-group' + (submitted && !user.password ? ' has-error' : '')}>\r\n                        <label htmlFor=\"password\">Password</label>\r\n                        <input type=\"password\" className=\"form-control\" name=\"password\" value={user.password} onChange={this.handleChange} />\r\n                        {submitted && !user.password &&\r\n                            <div className=\"help-block\">Password is required</div>\r\n                        }\r\n                    </div>\r\n\r\n                    <div className={'form-group' + (submitted && !user.phoneNo ? ' has-error' : '')}>\r\n                        <label htmlFor=\"phoneNo\">Phone Number</label>\r\n                        <input type=\"text\" className=\"form-control\" name=\"phoneNo\" value={user.phoneNo} onChange={this.handleChange} />\r\n                        {submitted && !user.lastName &&\r\n                            <div className=\"help-block\">Phone Number is required</div>\r\n                        }\r\n                    </div>\r\n                    <div className={'form-group' + (submitted && !user.address ? ' has-error' : '')}>\r\n                        <label htmlFor=\"address\">Address</label>\r\n                        <input type=\"text\" className=\"form-control\" name=\"address\" value={user.address} onChange={this.handleChange} />\r\n                        {submitted && !user.address &&\r\n                            <div className=\"help-block\">Address is required</div>\r\n                        }\r\n                    </div>\r\n                    <div className={'form-group' + (submitted && !user.dob ? ' has-error' : '')}>\r\n                        <label htmlFor=\"dob\">Date of Birth</label>\r\n                        <input type=\"text\" className=\"form-control\" name=\"dob\" value={user.dob} onChange={this.handleChange} />\r\n                        {submitted && !user.dob &&\r\n                            <div className=\"help-block\">Date of Birth is required</div>\r\n                        }\r\n                    </div>\r\n                    <div className={'form-group' + (submitted && (!user.security1.question || !user.security1.answer) ? ' has-error' : '')}>\r\n                        <label htmlFor=\"question1\">Security Question 1</label>\r\n                        <input type=\"text\" className=\"form-control\" placeholder=\"Enter Question here\" name=\"question\" value={user.security1.question} onChange={this.handleSecurity1} />\r\n                        <input type=\"text\" className=\"form-control\" placeholder=\"Enter Answer here\" name=\"answer\" value={user.security1.answer} onChange={this.handleSecurity1} />\r\n                        {submitted && (!user.security1.question || !user.security1.answer) &&\r\n                            <div className=\"help-block\">Security question 1 and answer is required</div>\r\n                        }\r\n                    </div>\r\n                    <div className={'form-group' + (submitted && (!user.security2.question || !user.security2.answer) ? ' has-error' : '')}>\r\n                        <label htmlFor=\"question2\">Security Question 2</label>\r\n                        <input type=\"text\" className=\"form-control\" placeholder=\"Enter Question here\" name=\"question\" value={user.security2.question} onChange={this.handleSecurity2} />\r\n                        <input type=\"text\" className=\"form-control\" placeholder=\"Enter Answer here\" name=\"answer\" value={user.security2.answer} onChange={this.handleSecurity2} />\r\n                        {submitted && (!user.security2.question || !user.security2.answer) &&\r\n                            <div className=\"help-block\">Security question 2 and answer is required</div>\r\n                        }\r\n                    </div>\r\n                    <div className={'form-group' + (submitted && (!user.security3.question || !user.security3.answer) ? ' has-error' : '')}>\r\n                        <label htmlFor=\"question3\">Security Question 3</label>\r\n                        <input type=\"text\" className=\"form-control\" placeholder=\"Enter Question here\" name=\"question\" value={user.security3.question} onChange={this.handleSecurity3} />\r\n                        <input type=\"text\" className=\"form-control\" placeholder=\"Enter Answer here\" name=\"answer\" value={user.security3.answer} onChange={this.handleSecurity3} />\r\n                        {submitted && (!user.security3.question || !user.security3.answer) &&\r\n                            <div className=\"help-block\">Security question 3 and answer is required</div>\r\n                        }\r\n                    </div>\r\n                    <label>Display Picture </label>\r\n                    <div className={'form-group' + (submitted && !user.photo ? ' has-error' : '')}>\r\n                        <label htmlFor=\"image\" className=\"btn btn-info\">Select Image</label>\r\n                        <input type=\"file\" style={{visibility: 'hidden'}}  multiple=\"\" id=\"image\" name=\"image\" onChange={this.onChangeHandler}/>\r\n                        {this.state.user.photo && <span style={{color: 'green'}}>{this.state.user.photo.name}</span>}\r\n                        {submitted && !user.photo &&\r\n                            <div className=\"help-block\">Please upload profile image</div>\r\n                        }\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                        <button onClick={this.handleSubmit} className=\"btn btn-primary\">Register</button>\r\n                        {registering && \r\n                            <img src=\"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==\" />\r\n                        }\r\n                        <Link to=\"/login\" className=\"btn btn-link\">Cancel</Link>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nfunction mapState(state) {\r\n    const { registering } = state.registration;\r\n    return { registering };\r\n}\r\n\r\nconst actionCreators = {\r\n    register: userActions.register\r\n}\r\n\r\nconst connectedRegisterPage = connect(mapState, actionCreators)(RegisterPage);\r\nexport { connectedRegisterPage as RegisterPage };","import React from 'react';\r\nimport { Router, Route, Switch, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { history } from '../_helpers';\r\nimport { alertActions } from '../_actions';\r\nimport { PrivateRoute } from '../_components';\r\nimport { HomePage } from '../HomePage';\r\nimport { LoginPage } from '../LoginPage';\r\nimport { RegisterPage } from '../RegisterPage';\r\n\r\nclass App extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        history.listen((location, action) => {\r\n            // clear alert on location change\r\n            this.props.clearAlerts();\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const { alert } = this.props;\r\n        return (\r\n            <div className=\"container\" style={{height: '100vh'}}>\r\n                <div className=\"container\">\r\n                    <div className=\"col-sm-8 col-sm-offset-2\">\r\n                        {alert.message &&\r\n                            <div className={`alert ${alert.type}`}>{alert.message}</div>\r\n                        }\r\n                        <Router history={history}>\r\n                            <Switch>\r\n                                <PrivateRoute exact path=\"/\" component={HomePage} />\r\n                                <Route path=\"/login\" component={LoginPage} />\r\n                                <Route path=\"/register\" component={RegisterPage} />\r\n                                <Redirect from=\"*\" to=\"/\" />\r\n                            </Switch>\r\n                        </Router>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nfunction mapState(state) {\r\n    const { alert } = state;\r\n    return { alert };\r\n}\r\n\r\nconst actionCreators = {\r\n    clearAlerts: alertActions.clear\r\n};\r\n\r\nconst connectedApp = connect(mapState, actionCreators)(App);\r\nexport { connectedApp as App };","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport { render } from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\n\r\nimport { store } from './_helpers';\r\nimport { App } from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\n// setup fake backend\r\nimport { configureFakeBackend } from './_helpers';\r\nconfigureFakeBackend();\r\n\r\nrender(\r\n    <Provider store={store}>\r\n        <App />\r\n    </Provider>,\r\n    document.getElementById('app')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}